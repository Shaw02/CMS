; Listing generated by Microsoft (R) Optimizing Compiler Version 15.00.30729.01 

	TITLE	i:\?n????j\My Project\CMS\CMS\ASN1\PKCS7\PKCS7_3_Input.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB OLDNAMES

PUBLIC	??_R4PKCS7_3_Input@@6BBER_Input@@@		; PKCS7_3_Input::`RTTI Complete Object Locator'
PUBLIC	??_R4PKCS7_3_Input@@6BPKCS7@@@			; PKCS7_3_Input::`RTTI Complete Object Locator'
PUBLIC	??_R3PKCS7_3_Input@@8				; PKCS7_3_Input::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2PKCS7_3_Input@@8				; PKCS7_3_Input::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@PKCS7_Input@@8			; PKCS7_Input::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R3PKCS7_Input@@8				; PKCS7_Input::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2PKCS7_Input@@8				; PKCS7_Input::`RTTI Base Class Array'
PUBLIC	??_R13DNA@3EA@?$_Iosb@H@std@@8			; std::_Iosb<int>::`RTTI Base Class Descriptor at (4,976,4,64)'
PUBLIC	??_R1A@DNA@3EA@ios_base@std@@8			; std::ios_base::`RTTI Base Class Descriptor at (0,976,4,64)'
PUBLIC	??_R1A@DNA@3FA@?$basic_ios@DU?$char_traits@D@std@@@std@@8 ; std::basic_ios<char,std::char_traits<char> >::`RTTI Base Class Descriptor at (0,976,4,80)'
PUBLIC	??_R1DNA@?0A@EA@?$basic_istream@DU?$char_traits@D@std@@@std@@8 ; std::basic_istream<char,std::char_traits<char> >::`RTTI Base Class Descriptor at (976,-1,0,64)'
PUBLIC	??_R1DNA@?0A@EA@?$basic_ifstream@DU?$char_traits@D@std@@@std@@8 ; std::basic_ifstream<char,std::char_traits<char> >::`RTTI Base Class Descriptor at (976,-1,0,64)'
PUBLIC	??_R1DNA@?0A@EA@FileInput@@8			; FileInput::`RTTI Base Class Descriptor at (976,-1,0,64)'
PUBLIC	??_R1DNA@?0A@EA@BER_Input@@8			; BER_Input::`RTTI Base Class Descriptor at (976,-1,0,64)'
PUBLIC	??_R0?AVPKCS7_Input@@@8				; PKCS7_Input `RTTI Type Descriptor'
PUBLIC	??_R1A@?0A@EA@PKCS7_3_Input@@8			; PKCS7_3_Input::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R0?AVPKCS7_3_Input@@@8			; PKCS7_3_Input `RTTI Type Descriptor'
PUBLIC	??_DPKCS7_3_Input@@QAEXXZ			; PKCS7_3_Input::`vbase destructor'
PUBLIC	??_GPKCS7_3_Input@@UAEPAXI@Z			; PKCS7_3_Input::`scalar deleting destructor'
PUBLIC	??_C@_06EIDOOJMB@PKCS?$CD7?$AA@			; `string'
PUBLIC	??_C@_0O@FKPCDGLE@EnvelopedData?$AA@		; `string'
PUBLIC	??_C@_0CO@NJDMNKIE@?3?5?$II?C?$IN?$IG?$JF?$LG?$IC?IPasswordRecipientInfo?$IC@ ; `string'
PUBLIC	??_C@_07OKGDHKCM@Decrypt?$AA@			; `string'
PUBLIC	??_C@_0BH@NKDOMCPM@?3?5Password?$IC?$KK?$II?a?$IC?$KC?$IC?$NM?$IC?$LH?$IBB?$AA@ ; `string'
PUBLIC	??_C@_0CL@KMDCDNLB@?3?5Content?9Encryption?9Key?5may?5be?5@ ; `string'
PUBLIC	??_7PKCS7_3_Input@@6BPKCS7@@@			; PKCS7_3_Input::`vftable'
PUBLIC	??_7PKCS7_3_Input@@6BBER_Input@@@		; PKCS7_3_Input::`vftable'
PUBLIC	??_8PKCS7_3_Input@@7B@				; PKCS7_3_Input::`vbtable'
EXTRN	??_EPKCS7_3_Input@@UAEPAXI@Z:PROC		; PKCS7_3_Input::`vector deleting destructor'
;	COMDAT ??_8PKCS7_3_Input@@7B@
CONST	SEGMENT
??_8PKCS7_3_Input@@7B@ DD 00H				; PKCS7_3_Input::`vbtable'
	DD	0474H
CONST	ENDS
;	COMDAT ??_7PKCS7_3_Input@@6BBER_Input@@@
CONST	SEGMENT
??_7PKCS7_3_Input@@6BBER_Input@@@ DD FLAT:??_R4PKCS7_3_Input@@6BBER_Input@@@ ; PKCS7_3_Input::`vftable'
	DD	FLAT:??_EPKCS7_3_Input@@UAEPAXI@Z
CONST	ENDS
;	COMDAT ??_R4PKCS7_3_Input@@6BBER_Input@@@
rdata$r	SEGMENT
??_R4PKCS7_3_Input@@6BBER_Input@@@ DD 00H		; PKCS7_3_Input::`RTTI Complete Object Locator'
	DD	0844H
	DD	00H
	DD	FLAT:??_R0?AVPKCS7_3_Input@@@8
	DD	FLAT:??_R3PKCS7_3_Input@@8
rdata$r	ENDS
;	COMDAT ??_7PKCS7_3_Input@@6BPKCS7@@@
CONST	SEGMENT
??_7PKCS7_3_Input@@6BPKCS7@@@ DD FLAT:??_R4PKCS7_3_Input@@6BPKCS7@@@ ; PKCS7_3_Input::`vftable'
	DD	FLAT:?encodeBER@Sequence@@UAEXXZ
	DD	FLAT:?Get_BERcode@ASN1@@UAEPBDXZ
	DD	FLAT:?Get_BERsize@ASN1@@UAEIXZ
CONST	ENDS
;	COMDAT ??_R4PKCS7_3_Input@@6BPKCS7@@@
rdata$r	SEGMENT
??_R4PKCS7_3_Input@@6BPKCS7@@@ DD 00H			; PKCS7_3_Input::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVPKCS7_3_Input@@@8
	DD	FLAT:??_R3PKCS7_3_Input@@8
rdata$r	ENDS
;	COMDAT ??_R3PKCS7_3_Input@@8
rdata$r	SEGMENT
??_R3PKCS7_3_Input@@8 DD 00H				; PKCS7_3_Input::`RTTI Class Hierarchy Descriptor'
	DD	03H
	DD	0dH
	DD	FLAT:??_R2PKCS7_3_Input@@8
rdata$r	ENDS
;	COMDAT ??_R2PKCS7_3_Input@@8
rdata$r	SEGMENT
??_R2PKCS7_3_Input@@8 DD FLAT:??_R1A@?0A@EA@PKCS7_3_Input@@8 ; PKCS7_3_Input::`RTTI Base Class Array'
	DD	FLAT:??_R1A@?0A@EA@PKCS7_Input@@8
	DD	FLAT:??_R1DNA@?0A@EA@BER_Input@@8
	DD	FLAT:??_R1DNA@?0A@EA@FileInput@@8
	DD	FLAT:??_R1DNA@?0A@EA@?$basic_ifstream@DU?$char_traits@D@std@@@std@@8
	DD	FLAT:??_R1DNA@?0A@EA@?$basic_istream@DU?$char_traits@D@std@@@std@@8
	DD	FLAT:??_R1A@DNA@3FA@?$basic_ios@DU?$char_traits@D@std@@@std@@8
	DD	FLAT:??_R1A@DNA@3EA@ios_base@std@@8
	DD	FLAT:??_R13DNA@3EA@?$_Iosb@H@std@@8
	DD	FLAT:??_R1A@?0A@EA@PKCS7@@8
	DD	FLAT:??_R1A@?0A@EA@ContentInfo@@8
	DD	FLAT:??_R1A@?0A@EA@Sequence@@8
	DD	FLAT:??_R1A@?0A@EA@ASN1@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@PKCS7_Input@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@PKCS7_Input@@8 DD FLAT:??_R0?AVPKCS7_Input@@@8 ; PKCS7_Input::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	0bH
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3PKCS7_Input@@8
rdata$r	ENDS
;	COMDAT ??_R3PKCS7_Input@@8
rdata$r	SEGMENT
??_R3PKCS7_Input@@8 DD 00H				; PKCS7_Input::`RTTI Class Hierarchy Descriptor'
	DD	03H
	DD	0cH
	DD	FLAT:??_R2PKCS7_Input@@8
rdata$r	ENDS
;	COMDAT ??_R2PKCS7_Input@@8
rdata$r	SEGMENT
??_R2PKCS7_Input@@8 DD FLAT:??_R1A@?0A@EA@PKCS7_Input@@8 ; PKCS7_Input::`RTTI Base Class Array'
	DD	FLAT:??_R1DNA@?0A@EA@BER_Input@@8
	DD	FLAT:??_R1DNA@?0A@EA@FileInput@@8
	DD	FLAT:??_R1DNA@?0A@EA@?$basic_ifstream@DU?$char_traits@D@std@@@std@@8
	DD	FLAT:??_R1DNA@?0A@EA@?$basic_istream@DU?$char_traits@D@std@@@std@@8
	DD	FLAT:??_R1A@DNA@3FA@?$basic_ios@DU?$char_traits@D@std@@@std@@8
	DD	FLAT:??_R1A@DNA@3EA@ios_base@std@@8
	DD	FLAT:??_R13DNA@3EA@?$_Iosb@H@std@@8
	DD	FLAT:??_R1A@?0A@EA@PKCS7@@8
	DD	FLAT:??_R1A@?0A@EA@ContentInfo@@8
	DD	FLAT:??_R1A@?0A@EA@Sequence@@8
	DD	FLAT:??_R1A@?0A@EA@ASN1@@8
rdata$r	ENDS
;	COMDAT ??_R13DNA@3EA@?$_Iosb@H@std@@8
rdata$r	SEGMENT
??_R13DNA@3EA@?$_Iosb@H@std@@8 DD FLAT:??_R0?AV?$_Iosb@H@std@@@8 ; std::_Iosb<int>::`RTTI Base Class Descriptor at (4,976,4,64)'
	DD	00H
	DD	04H
	DD	03d0H
	DD	04H
	DD	040H
	DD	FLAT:??_R3?$_Iosb@H@std@@8
rdata$r	ENDS
;	COMDAT ??_R1A@DNA@3EA@ios_base@std@@8
rdata$r	SEGMENT
??_R1A@DNA@3EA@ios_base@std@@8 DD FLAT:??_R0?AVios_base@std@@@8 ; std::ios_base::`RTTI Base Class Descriptor at (0,976,4,64)'
	DD	01H
	DD	00H
	DD	03d0H
	DD	04H
	DD	040H
	DD	FLAT:??_R3ios_base@std@@8
rdata$r	ENDS
;	COMDAT ??_R1A@DNA@3FA@?$basic_ios@DU?$char_traits@D@std@@@std@@8
rdata$r	SEGMENT
??_R1A@DNA@3FA@?$basic_ios@DU?$char_traits@D@std@@@std@@8 DD FLAT:??_R0?AV?$basic_ios@DU?$char_traits@D@std@@@std@@@8 ; std::basic_ios<char,std::char_traits<char> >::`RTTI Base Class Descriptor at (0,976,4,80)'
	DD	02H
	DD	00H
	DD	03d0H
	DD	04H
	DD	050H
	DD	FLAT:??_R3?$basic_ios@DU?$char_traits@D@std@@@std@@8
rdata$r	ENDS
;	COMDAT ??_R1DNA@?0A@EA@?$basic_istream@DU?$char_traits@D@std@@@std@@8
rdata$r	SEGMENT
??_R1DNA@?0A@EA@?$basic_istream@DU?$char_traits@D@std@@@std@@8 DD FLAT:??_R0?AV?$basic_istream@DU?$char_traits@D@std@@@std@@@8 ; std::basic_istream<char,std::char_traits<char> >::`RTTI Base Class Descriptor at (976,-1,0,64)'
	DD	03H
	DD	03d0H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3?$basic_istream@DU?$char_traits@D@std@@@std@@8
rdata$r	ENDS
;	COMDAT ??_R1DNA@?0A@EA@?$basic_ifstream@DU?$char_traits@D@std@@@std@@8
rdata$r	SEGMENT
??_R1DNA@?0A@EA@?$basic_ifstream@DU?$char_traits@D@std@@@std@@8 DD FLAT:??_R0?AV?$basic_ifstream@DU?$char_traits@D@std@@@std@@@8 ; std::basic_ifstream<char,std::char_traits<char> >::`RTTI Base Class Descriptor at (976,-1,0,64)'
	DD	04H
	DD	03d0H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3?$basic_ifstream@DU?$char_traits@D@std@@@std@@8
rdata$r	ENDS
;	COMDAT ??_R1DNA@?0A@EA@FileInput@@8
rdata$r	SEGMENT
??_R1DNA@?0A@EA@FileInput@@8 DD FLAT:??_R0?AVFileInput@@@8 ; FileInput::`RTTI Base Class Descriptor at (976,-1,0,64)'
	DD	05H
	DD	03d0H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3FileInput@@8
rdata$r	ENDS
;	COMDAT ??_R1DNA@?0A@EA@BER_Input@@8
rdata$r	SEGMENT
??_R1DNA@?0A@EA@BER_Input@@8 DD FLAT:??_R0?AVBER_Input@@@8 ; BER_Input::`RTTI Base Class Descriptor at (976,-1,0,64)'
	DD	06H
	DD	03d0H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3BER_Input@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVPKCS7_Input@@@8
_DATA	SEGMENT
??_R0?AVPKCS7_Input@@@8 DD FLAT:??_7type_info@@6B@	; PKCS7_Input `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVPKCS7_Input@@', 00H
_DATA	ENDS
;	COMDAT ??_R1A@?0A@EA@PKCS7_3_Input@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@PKCS7_3_Input@@8 DD FLAT:??_R0?AVPKCS7_3_Input@@@8 ; PKCS7_3_Input::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	0cH
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3PKCS7_3_Input@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVPKCS7_3_Input@@@8
_DATA	SEGMENT
??_R0?AVPKCS7_3_Input@@@8 DD FLAT:??_7type_info@@6B@	; PKCS7_3_Input `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVPKCS7_3_Input@@', 00H
_DATA	ENDS
;	COMDAT ??_C@_0CL@KMDCDNLB@?3?5Content?9Encryption?9Key?5may?5be?5@
CONST	SEGMENT
??_C@_0CL@KMDCDNLB@?3?5Content?9Encryption?9Key?5may?5be?5@ DB ': Content'
	DB	'-Encryption-Key may be different.', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@NKDOMCPM@?3?5Password?$IC?$KK?$II?a?$IC?$KC?$IC?$NM?$IC?$LH?$IBB?$AA@
CONST	SEGMENT
??_C@_0BH@NKDOMCPM@?3?5Password?$IC?$KK?$II?a?$IC?$KC?$IC?$NM?$IC?$LH?$IBB?$AA@ DB ':'
	DB	' Password', 082H, 0aaH, 088H, 0e1H, 082H, 0a2H, 082H, 0dcH, 082H
	DB	0b7H, 081H, 'B', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_07OKGDHKCM@Decrypt?$AA@
CONST	SEGMENT
??_C@_07OKGDHKCM@Decrypt?$AA@ DB 'Decrypt', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@NJDMNKIE@?3?5?$II?C?$IN?$IG?$JF?$LG?$IC?IPasswordRecipientInfo?$IC@
CONST	SEGMENT
??_C@_0CO@NJDMNKIE@?3?5?$II?C?$IN?$IG?$JF?$LG?$IC?IPasswordRecipientInfo?$IC@ DB ':'
	DB	' ', 088H, 0c3H, 08dH, 086H, 095H, 0b6H, 082H, 0c9H, 'Password'
	DB	'RecipientInfo', 082H, 0aaH, 082H, 0a0H, 082H, 0e8H, 082H, 0dcH
	DB	082H, 0b9H, 082H, 0f1H, 081H, 'B', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@FKPCDGLE@EnvelopedData?$AA@
CONST	SEGMENT
??_C@_0O@FKPCDGLE@EnvelopedData?$AA@ DB 'EnvelopedData', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_06EIDOOJMB@PKCS?$CD7?$AA@
CONST	SEGMENT
??_C@_06EIDOOJMB@PKCS?$CD7?$AA@ DB 'PKCS#7', 00H	; `string'
PUBLIC	??1PKCS7_3_Input@@UAE@XZ			; PKCS7_3_Input::~PKCS7_3_Input
; Function compile flags: /Ogtpy
; File i:\渡部篤史\my project\cms\cms\asn1\pkcs7\pkcs7_3_input.cpp
;	COMDAT ??1PKCS7_3_Input@@UAE@XZ
_TEXT	SEGMENT
??1PKCS7_3_Input@@UAE@XZ PROC				; PKCS7_3_Input::~PKCS7_3_Input, COMDAT
; _this$ = eax

; 25   : {

  00000	56		 push	 esi
  00001	8b f0		 mov	 esi, eax
  00003	8b 86 8c fb ff
	ff		 mov	 eax, DWORD PTR [esi-1140]
  00009	c7 86 bc f7 ff
	ff 00 00 00 00	 mov	 DWORD PTR [esi-2116], OFFSET ??_7PKCS7_3_Input@@6BPKCS7@@@
  00013	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  00016	57		 push	 edi

; 26   : }

  00017	8d 7e 9c	 lea	 edi, DWORD PTR [esi-100]
  0001a	c7 84 31 8c fb
	ff ff 00 00 00
	00		 mov	 DWORD PTR [ecx+esi-1140], OFFSET ??_7PKCS7_3_Input@@6BBER_Input@@@
  00025	c7 07 00 00 00
	00		 mov	 DWORD PTR [edi], OFFSET ??_7OctetString@@6B@
  0002b	83 7f 5c 10	 cmp	 DWORD PTR [edi+92], 16	; 00000010H
  0002f	72 0c		 jb	 SHORT $LN24@PKCS7_3_In
  00031	8b 57 48	 mov	 edx, DWORD PTR [edi+72]
  00034	52		 push	 edx
  00035	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  0003a	83 c4 04	 add	 esp, 4
$LN24@PKCS7_3_In:
  0003d	33 c0		 xor	 eax, eax
  0003f	c7 47 5c 0f 00
	00 00		 mov	 DWORD PTR [edi+92], 15	; 0000000fH
  00046	89 47 58	 mov	 DWORD PTR [edi+88], eax
  00049	88 47 48	 mov	 BYTE PTR [edi+72], al
  0004c	e8 00 00 00 00	 call	 ??1ASN1@@QAE@XZ		; ASN1::~ASN1
  00051	81 c6 e4 fb ff
	ff		 add	 esi, -1052		; fffffbe4H
  00057	56		 push	 esi
  00058	e8 00 00 00 00	 call	 ??1EnvelopedData@@QAE@XZ ; EnvelopedData::~EnvelopedData
  0005d	56		 push	 esi
  0005e	e8 00 00 00 00	 call	 ??1PKCS7_Input@@UAE@XZ	; PKCS7_Input::~PKCS7_Input
  00063	5f		 pop	 edi
  00064	5e		 pop	 esi
  00065	c3		 ret	 0
??1PKCS7_3_Input@@UAE@XZ ENDP				; PKCS7_3_Input::~PKCS7_3_Input
; Function compile flags: /Ogtpy
_TEXT	ENDS
;	COMDAT ??_DPKCS7_3_Input@@QAEXXZ
_TEXT	SEGMENT
??_DPKCS7_3_Input@@QAEXXZ PROC				; PKCS7_3_Input::`vbase destructor', COMDAT
; _this$ = eax
  00000	56		 push	 esi
  00001	8b f0		 mov	 esi, eax
  00003	81 c6 44 08 00
	00		 add	 esi, 2116		; 00000844H
  00009	8b c6		 mov	 eax, esi
  0000b	e8 00 00 00 00	 call	 ??1PKCS7_3_Input@@UAE@XZ ; PKCS7_3_Input::~PKCS7_3_Input
  00010	56		 push	 esi
  00011	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7ios_base@std@@6B@
  00017	e8 00 00 00 00	 call	 ?_Ios_base_dtor@ios_base@std@@CAXPAV12@@Z ; std::ios_base::_Ios_base_dtor
  0001c	83 c4 04	 add	 esp, 4
  0001f	5e		 pop	 esi
  00020	c3		 ret	 0
??_DPKCS7_3_Input@@QAEXXZ ENDP				; PKCS7_3_Input::`vbase destructor'
; Function compile flags: /Ogtpy
_TEXT	ENDS
;	COMDAT ??_GPKCS7_3_Input@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GPKCS7_3_Input@@UAEPAXI@Z PROC			; PKCS7_3_Input::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	56		 push	 esi
  00001	57		 push	 edi
  00002	8d b9 bc f7 ff
	ff		 lea	 edi, DWORD PTR [ecx-2116]
  00008	8d b7 44 08 00
	00		 lea	 esi, DWORD PTR [edi+2116]
  0000e	8b c6		 mov	 eax, esi
  00010	e8 00 00 00 00	 call	 ??1PKCS7_3_Input@@UAE@XZ ; PKCS7_3_Input::~PKCS7_3_Input
  00015	56		 push	 esi
  00016	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7ios_base@std@@6B@
  0001c	e8 00 00 00 00	 call	 ?_Ios_base_dtor@ios_base@std@@CAXPAV12@@Z ; std::ios_base::_Ios_base_dtor
  00021	83 c4 04	 add	 esp, 4
  00024	f6 44 24 0c 01	 test	 BYTE PTR ___flags$[esp+4], 1
  00029	74 09		 je	 SHORT $LN11@scalar@34
  0002b	57		 push	 edi
  0002c	e8 00 00 00 00	 call	 ??3@YAXPAX@Z		; operator delete
  00031	83 c4 04	 add	 esp, 4
$LN11@scalar@34:
  00034	8b c7		 mov	 eax, edi
  00036	5f		 pop	 edi
  00037	5e		 pop	 esi
  00038	c2 04 00	 ret	 4
??_GPKCS7_3_Input@@UAEPAXI@Z ENDP			; PKCS7_3_Input::`scalar deleting destructor'
_TEXT	ENDS
PUBLIC	??0PKCS7_3_Input@@QAE@PBD@Z			; PKCS7_3_Input::PKCS7_3_Input
;	COMDAT xdata$x
; File c:\program files\microsoft visual studio 9.0\vc\include\iosfwd
xdata$x	SEGMENT
__unwindtable$??0PKCS7_3_Input@@QAE@PBD@Z DD 0ffffffffH
	DD	FLAT:__unwindfunclet$??0PKCS7_3_Input@@QAE@PBD@Z$0
	DD	00H
	DD	FLAT:__unwindfunclet$??0PKCS7_3_Input@@QAE@PBD@Z$1
	DD	01H
	DD	FLAT:__unwindfunclet$??0PKCS7_3_Input@@QAE@PBD@Z$2
__ehfuncinfo$??0PKCS7_3_Input@@QAE@PBD@Z DD 019930522H
	DD	03H
	DD	FLAT:__unwindtable$??0PKCS7_3_Input@@QAE@PBD@Z
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	01H
; Function compile flags: /Ogtpy
; File i:\渡部篤史\my project\cms\cms\asn1\pkcs7\pkcs7_3_input.cpp
xdata$x	ENDS
;	COMDAT ??0PKCS7_3_Input@@QAE@PBD@Z
_TEXT	SEGMENT
$T99349 = -16						; size = 4
__$EHRec$ = -12						; size = 12
_this$ = 8						; size = 4
_strFileName$ = 12					; size = 4
??0PKCS7_3_Input@@QAE@PBD@Z PROC			; PKCS7_3_Input::PKCS7_3_Input, COMDAT

; 14   : {

  00000	6a ff		 push	 -1
  00002	68 00 00 00 00	 push	 __ehhandler$??0PKCS7_3_Input@@QAE@PBD@Z
  00007	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  0000d	50		 push	 eax
  0000e	83 ec 08	 sub	 esp, 8
  00011	53		 push	 ebx
  00012	56		 push	 esi
  00013	57		 push	 edi
  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00019	33 c4		 xor	 eax, esp
  0001b	50		 push	 eax
  0001c	8d 44 24 18	 lea	 eax, DWORD PTR __$EHRec$[esp+36]
  00020	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00026	8b 74 24 28	 mov	 esi, DWORD PTR _this$[esp+32]
  0002a	33 db		 xor	 ebx, ebx
  0002c	89 5c 24 14	 mov	 DWORD PTR $T99349[esp+36], ebx
  00030	c7 86 d0 03 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+976], OFFSET ??_8PKCS7_3_Input@@7B@
  0003a	c7 86 44 08 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+2116], OFFSET ??_7?$basic_ios@DU?$char_traits@D@std@@@std@@6B@
  00044	8b 44 24 2c	 mov	 eax, DWORD PTR _strFileName$[esp+32]
  00048	50		 push	 eax
  00049	89 5c 24 24	 mov	 DWORD PTR __$EHRec$[esp+48], ebx
  0004d	bf 01 00 00 00	 mov	 edi, 1
  00052	56		 push	 esi
  00053	89 7c 24 1c	 mov	 DWORD PTR $T99349[esp+44], edi
  00057	e8 00 00 00 00	 call	 ??0PKCS7_Input@@QAE@PBDQBD@Z ; PKCS7_Input::PKCS7_Input
  0005c	89 7c 24 20	 mov	 DWORD PTR __$EHRec$[esp+44], edi
  00060	8b 8e d0 03 00
	00		 mov	 ecx, DWORD PTR [esi+976]
  00066	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7PKCS7_3_Input@@6BPKCS7@@@
  0006c	8b 51 04	 mov	 edx, DWORD PTR [ecx+4]
  0006f	8d 86 28 04 00
	00		 lea	 eax, DWORD PTR [esi+1064]
  00075	50		 push	 eax
  00076	c7 84 32 d0 03
	00 00 00 00 00
	00		 mov	 DWORD PTR [edx+esi+976], OFFSET ??_7PKCS7_3_Input@@6BBER_Input@@@
  00081	e8 00 00 00 00	 call	 ??0EnvelopedData@@QAE@QBD@Z ; EnvelopedData::EnvelopedData
  00086	68 00 00 00 00	 push	 OFFSET ??_C@_0N@DHPBPBEA@Octet?5String?$AA@
  0008b	8d be e0 07 00
	00		 lea	 edi, DWORD PTR [esi+2016]
  00091	57		 push	 edi
  00092	c6 44 24 28 02	 mov	 BYTE PTR __$EHRec$[esp+52], 2
  00097	e8 00 00 00 00	 call	 ??0ASN1@@QAE@QBD@Z	; ASN1::ASN1
  0009c	c7 07 00 00 00
	00		 mov	 DWORD PTR [edi], OFFSET ??_7OctetString@@6B@
  000a2	c7 47 5c 0f 00
	00 00		 mov	 DWORD PTR [edi+92], 15	; 0000000fH
  000a9	89 5f 58	 mov	 DWORD PTR [edi+88], ebx
  000ac	88 5f 48	 mov	 BYTE PTR [edi+72], bl

; 15   : }

  000af	8b c6		 mov	 eax, esi
  000b1	8b 4c 24 18	 mov	 ecx, DWORD PTR __$EHRec$[esp+36]
  000b5	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000bc	59		 pop	 ecx
  000bd	5f		 pop	 edi
  000be	5e		 pop	 esi
  000bf	5b		 pop	 ebx
  000c0	83 c4 14	 add	 esp, 20			; 00000014H
  000c3	c2 08 00	 ret	 8
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__unwindfunclet$??0PKCS7_3_Input@@QAE@PBD@Z$0:
  00000	8b 45 f0	 mov	 eax, DWORD PTR $T99349[ebp]
  00003	83 e0 01	 and	 eax, 1
  00006	0f 84 12 00 00
	00		 je	 $LN5@PKCS7_3_In@2
  0000c	83 65 f0 fe	 and	 DWORD PTR $T99349[ebp], -2 ; fffffffeH
  00010	8b 4d 04	 mov	 ecx, DWORD PTR _this$[ebp-4]
  00013	81 c1 44 08 00
	00		 add	 ecx, 2116		; 00000844H
  00019	e9 00 00 00 00	 jmp	 ??1?$basic_ios@DU?$char_traits@D@std@@@std@@UAE@XZ ; std::basic_ios<char,std::char_traits<char> >::~basic_ios<char,std::char_traits<char> >
$LN5@PKCS7_3_In@2:
  0001e	c3		 ret	 0
__unwindfunclet$??0PKCS7_3_Input@@QAE@PBD@Z$1:
  0001f	8b 45 04	 mov	 eax, DWORD PTR _this$[ebp-4]
  00022	05 28 04 00 00	 add	 eax, 1064		; 00000428H
  00027	50		 push	 eax
  00028	e8 00 00 00 00	 call	 ??1PKCS7_Input@@UAE@XZ	; PKCS7_Input::~PKCS7_Input
  0002d	c3		 ret	 0
__unwindfunclet$??0PKCS7_3_Input@@QAE@PBD@Z$2:
  0002e	8b 45 04	 mov	 eax, DWORD PTR _this$[ebp-4]
  00031	05 28 04 00 00	 add	 eax, 1064		; 00000428H
  00036	50		 push	 eax
  00037	e8 00 00 00 00	 call	 ??1EnvelopedData@@QAE@XZ ; EnvelopedData::~EnvelopedData
  0003c	c3		 ret	 0
__ehhandler$??0PKCS7_3_Input@@QAE@PBD@Z:
  0003d	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00041	8d 42 ec	 lea	 eax, DWORD PTR [edx-20]
  00044	8b 4a e8	 mov	 ecx, DWORD PTR [edx-24]
  00047	33 c8		 xor	 ecx, eax
  00049	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0004e	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??0PKCS7_3_Input@@QAE@PBD@Z
  00053	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??0PKCS7_3_Input@@QAE@PBD@Z ENDP			; PKCS7_3_Input::PKCS7_3_Input
PUBLIC	?decrypt@PKCS7_3_Input@@QAEXPAVFileOutput@@@Z	; PKCS7_3_Input::decrypt
; Function compile flags: /Ogtpy
;	COMDAT ?decrypt@PKCS7_3_Input@@QAEXPAVFileOutput@@@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
_f_Plain$ = 12						; size = 4
?decrypt@PKCS7_3_Input@@QAEXPAVFileOutput@@@Z PROC	; PKCS7_3_Input::decrypt, COMDAT

; 82   : {

  00000	53		 push	 ebx
  00001	8b 5c 24 08	 mov	 ebx, DWORD PTR _this$[esp]

; 83   : 	int	iResult;
; 84   : 
; 85   : 	//暗号文本体
; 86   : 	StreamPointerMove(ptEncryptedContent);

  00005	8b 83 40 08 00
	00		 mov	 eax, DWORD PTR [ebx+2112]
  0000b	56		 push	 esi
  0000c	57		 push	 edi
  0000d	6a 00		 push	 0
  0000f	8d bb d0 03 00
	00		 lea	 edi, DWORD PTR [ebx+976]
  00015	50		 push	 eax
  00016	8b f7		 mov	 esi, edi
  00018	e8 00 00 00 00	 call	 ?seekg@?$basic_istream@DU?$char_traits@D@std@@@std@@QAEAAV12@JH@Z ; std::basic_istream<char,std::char_traits<char> >::seekg

; 87   : 	iResult = enveloped_data.encryptedContentInfo.decrypt((unsigned char*)CEK.strValue.c_str(), this, f_Plain);

  0001d	83 bb 3c 08 00
	00 10		 cmp	 DWORD PTR [ebx+2108], 16 ; 00000010H
  00024	72 08		 jb	 SHORT $LN12@decrypt@4
  00026	8b 93 28 08 00
	00		 mov	 edx, DWORD PTR [ebx+2088]
  0002c	eb 06		 jmp	 SHORT $LN13@decrypt@4
$LN12@decrypt@4:
  0002e	8d 93 28 08 00
	00		 lea	 edx, DWORD PTR [ebx+2088]
$LN13@decrypt@4:
  00034	8b 4c 24 14	 mov	 ecx, DWORD PTR _f_Plain$[esp+8]
  00038	51		 push	 ecx
  00039	8d b3 d0 06 00
	00		 lea	 esi, DWORD PTR [ebx+1744]
  0003f	e8 00 00 00 00	 call	 ?decrypt@EncryptedContentInfo@@QAEHPAEPAVFileInput@@PAVFileOutput@@@Z ; EncryptedContentInfo::decrypt

; 88   : 
; 89   : 	if(iResult != 0){

  00044	85 c0		 test	 eax, eax
  00046	74 0f		 je	 SHORT $LN1@decrypt@4

; 90   : 		errPrint("Decrypt",": Content-Encryption-Key may be different.");

  00048	b8 00 00 00 00	 mov	 eax, OFFSET ??_C@_0CL@KMDCDNLB@?3?5Content?9Encryption?9Key?5may?5be?5@
  0004d	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_07OKGDHKCM@Decrypt?$AA@
  00052	e8 00 00 00 00	 call	 ?errPrint@@YAXPBD0@Z	; errPrint
$LN15@decrypt@4:
$LN1@decrypt@4:

; 91   : 	}
; 92   : 
; 93   : }

  00057	5f		 pop	 edi
  00058	5e		 pop	 esi
  00059	5b		 pop	 ebx
  0005a	c2 08 00	 ret	 8
$LN14@decrypt@4:
?decrypt@PKCS7_3_Input@@QAEXPAVFileOutput@@@Z ENDP	; PKCS7_3_Input::decrypt
_TEXT	ENDS
PUBLIC	?Receipt@PKCS7_3_Input@@QAEXPAV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z ; PKCS7_3_Input::Receipt
; Function compile flags: /Ogtpy
;	COMDAT ?Receipt@PKCS7_3_Input@@QAEXPAV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z
_TEXT	SEGMENT
_this$ = 8						; size = 4
?Receipt@PKCS7_3_Input@@QAEXPAV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z PROC ; PKCS7_3_Input::Receipt, COMDAT
; _strPassword$ = eax

; 52   : {

  00000	53		 push	 ebx
  00001	8b 5c 24 08	 mov	 ebx, DWORD PTR _this$[esp]
  00005	56		 push	 esi

; 53   : 	int	szCEK;
; 54   : 	PasswordRecipientInfo*	_password	= &enveloped_data.recipientInfos.cPassword;

  00006	8d b3 74 05 00
	00		 lea	 esi, DWORD PTR [ebx+1396]

; 55   : 
; 56   : 	//"PasswordRecipientInfo"があるかチェック
; 57   : 	if(enveloped_data.recipientInfos.fPassword = false){

  0000c	c6 83 70 05 00
	00 00		 mov	 BYTE PTR [ebx+1392], 0

; 58   : 		errPrint("Decrypt",": 暗号文にPasswordRecipientInfoがありません。");
; 59   : 	}
; 60   : 
; 61   : 	//鍵導出
; 62   : 	szCEK = _password->GetKey((void*)strPassword->c_str(), strPassword->size(), (void*)_password->EncryptedKey.strValue.c_str(), _password->EncryptedKey.strValue.size());

  00013	83 be 50 01 00
	00 10		 cmp	 DWORD PTR [esi+336], 16	; 00000010H
  0001a	57		 push	 edi
  0001b	8b be 4c 01 00
	00		 mov	 edi, DWORD PTR [esi+332]
  00021	72 08		 jb	 SHORT $LN11@Receipt
  00023	8b 96 3c 01 00
	00		 mov	 edx, DWORD PTR [esi+316]
  00029	eb 06		 jmp	 SHORT $LN12@Receipt
$LN11@Receipt:
  0002b	8d 96 3c 01 00
	00		 lea	 edx, DWORD PTR [esi+316]
$LN12@Receipt:
  00031	83 78 18 10	 cmp	 DWORD PTR [eax+24], 16	; 00000010H
  00035	8b 48 14	 mov	 ecx, DWORD PTR [eax+20]
  00038	72 05		 jb	 SHORT $LN19@Receipt
  0003a	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  0003d	eb 03		 jmp	 SHORT $LN20@Receipt
$LN19@Receipt:
  0003f	83 c0 04	 add	 eax, 4
$LN20@Receipt:
  00042	57		 push	 edi
  00043	52		 push	 edx
  00044	51		 push	 ecx
  00045	50		 push	 eax
  00046	8b c6		 mov	 eax, esi
  00048	e8 00 00 00 00	 call	 ?GetKey@PasswordRecipientInfo@@QAEHPAXI0I@Z ; PasswordRecipientInfo::GetKey
  0004d	8b f8		 mov	 edi, eax

; 63   : 	if(szCEK != enveloped_data.encryptedContentInfo.contentEncryptionAlgorithm->szKey){

  0004f	8b 83 18 07 00
	00		 mov	 eax, DWORD PTR [ebx+1816]
  00055	3b b8 a4 00 00
	00		 cmp	 edi, DWORD PTR [eax+164]
  0005b	74 0f		 je	 SHORT $LN1@Receipt

; 64   : 		errPrint("Decrypt",": Passwordが違います。");

  0005d	b8 00 00 00 00	 mov	 eax, OFFSET ??_C@_0BH@NKDOMCPM@?3?5Password?$IC?$KK?$II?a?$IC?$KC?$IC?$NM?$IC?$LH?$IBB?$AA@
  00062	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_07OKGDHKCM@Decrypt?$AA@
  00067	e8 00 00 00 00	 call	 ?errPrint@@YAXPBD0@Z	; errPrint
$LN24@Receipt:
$LN1@Receipt:

; 65   : 	}
; 66   : 
; 67   : 	//コンテンツ用暗号鍵の設定
; 68   : 	CEK.Set((char *)_password->keyEncryptionAlgorithm->GetKey(), szCEK);

  0006c	8b 8e f0 00 00
	00		 mov	 ecx, DWORD PTR [esi+240]
  00072	8b 11		 mov	 edx, DWORD PTR [ecx]
  00074	8b 42 44	 mov	 eax, DWORD PTR [edx+68]
  00077	ff d0		 call	 eax
  00079	57		 push	 edi
  0007a	50		 push	 eax
  0007b	8d 8b 24 08 00
	00		 lea	 ecx, DWORD PTR [ebx+2084]
  00081	e8 00 00 00 00	 call	 ?assign@?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@QAEAAV12@PBDI@Z ; std::basic_string<char,std::char_traits<char>,std::allocator<char> >::assign

; 69   : }

  00086	5f		 pop	 edi
  00087	5e		 pop	 esi
  00088	5b		 pop	 ebx
  00089	c2 04 00	 ret	 4
$LN23@Receipt:
?Receipt@PKCS7_3_Input@@QAEXPAV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z ENDP ; PKCS7_3_Input::Receipt
PUBLIC	?Get_EnvelopedData@PKCS7_3_Input@@QAEXXZ	; PKCS7_3_Input::Get_EnvelopedData
; Function compile flags: /Ogtpy
;	COMDAT ?Get_EnvelopedData@PKCS7_3_Input@@QAEXXZ
_TEXT	SEGMENT
?Get_EnvelopedData@PKCS7_3_Input@@QAEXXZ PROC		; PKCS7_3_Input::Get_EnvelopedData, COMDAT
; _this$ = esi

; 36   : {

  00000	51		 push	 ecx

; 37   : 	//ContentInfo
; 38   : 	read_ContentInfo(EnvelopedData_type);

  00001	56		 push	 esi
  00002	b8 03 00 00 00	 mov	 eax, 3
  00007	e8 00 00 00 00	 call	 ?read_ContentInfo@PKCS7_Input@@QAEII@Z ; PKCS7_Input::read_ContentInfo

; 39   : 
; 40   : 	//EnvelopedData
; 41   : 	ptEncryptedContent = read_EnvelopedData(&enveloped_data);

  0000c	8d 86 28 04 00
	00		 lea	 eax, DWORD PTR [esi+1064]
  00012	50		 push	 eax
  00013	56		 push	 esi
  00014	e8 00 00 00 00	 call	 ?read_EnvelopedData@PKCS7_Input@@QAEIPAVEnvelopedData@@@Z ; PKCS7_Input::read_EnvelopedData
  00019	89 86 40 08 00
	00		 mov	 DWORD PTR [esi+2112], eax
  0001f	59		 pop	 ecx

; 42   : }

  00020	c3		 ret	 0
?Get_EnvelopedData@PKCS7_3_Input@@QAEXXZ ENDP		; PKCS7_3_Input::Get_EnvelopedData
END
